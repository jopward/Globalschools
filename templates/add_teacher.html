{% extends "base.html" %}

{% block content %}
<div class="container">
    <h3 class="mb-4 text-center">ğŸ“š Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</h3>

    <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ÙÙ„Ø§Ø´ -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-success text-center">
          {% for message in messages %}
            <p>{{ message }}</p>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„Ù… -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-primary text-white">
            <strong>â• Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„Ù… Ø¬Ø¯ÙŠØ¯</strong>
        </div>
        <div class="card-body">
            <form method="POST" action="{{ url_for('user_bp.add_teacher_page') }}">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…</label>
                        <input type="text" name="name" class="form-control" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…" required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                        <input type="text" name="username" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" required>
                    </div>
                </div>
                
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" name="password" class="form-control" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Ø±Ù…Ø² Ø§Ù„Ù…Ø¹Ù„Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <input type="text" name="teacher_code" class="form-control" placeholder="Ù…Ø«Ù„Ø§Ù‹: T123">
                    </div>
                </div>

                <button type="submit" class="btn btn-success px-4">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ù„Ù…</button>
            </form>
        </div>
    </div>

    <!-- Ø¬Ø¯ÙˆÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† -->
    <div class="card shadow-sm">
        <div class="card-header bg-secondary text-white">
            <strong>ğŸ§‘â€ğŸ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</strong>
        </div>
        <div class="card-body p-0">
            <table class="table table-striped table-bordered mb-0 text-center align-middle">
                <thead class="table-dark">
                    <tr>
                        <th>#</th>
                        <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…</th>
                        <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
                        <th>Ø±Ù…Ø² Ø§Ù„Ù…Ø¹Ù„Ù…</th>
                        <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                    </tr>
                </thead>
                <tbody>
                    {% if teachers and teachers|length > 0 %}
                        {% for teacher in teachers %}
                        <tr>
                            <td>{{ loop.index }}</td>
                            <td>{{ teacher.name }}</td>
                            <td>{{ teacher.username }}</td>
                            <td>{{ teacher.teacher_code or "-" }}</td>
                            <td>
                                <a href="{{ url_for('user_bp.edit_teacher', user_id=teacher.id) }}" 
                                   class="btn btn-warning btn-sm">
                                    âœï¸ ØªØ¹Ø¯ÙŠÙ„
                                </a>
                                <a href="{{ url_for('user_bp.delete_teacher', user_id=teacher.id) }}" 
                                   class="btn btn-danger btn-sm" 
                                   onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¹Ù„Ù…ØŸ');">
                                    ğŸ—‘ï¸ Ø­Ø°Ù
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="5" class="text-muted py-3">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø¹Ù„Ù…ÙˆÙ† Ù…Ø¶Ø§ÙÙˆÙ† Ø¨Ø¹Ø¯.</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
